From 261ce3db0c6e5af7cada64e8c0b8e0874d07c7a5 Mon Sep 17 00:00:00 2001
From: John Madieu <j.madieu@expemb.com>
Date: Thu, 28 Apr 2016 16:25:58 +0200
Subject: [PATCH] fixed stdio.in.h bug

Signed-off-by: John Madieu <j.madieu@expemb.com>
---
 srclib/stdio.in.h | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/srclib/stdio.in.h b/srclib/stdio.in.h
index 0b85d0c..4d2dceb 100644
--- a/srclib/stdio.in.h
+++ b/srclib/stdio.in.h
@@ -733,8 +733,10 @@ _GL_CXXALIASWARN (gets);
 /* It is very rare that the developer ever has full control of stdin,
    so any use of gets warrants an unconditional warning.  Assume it is
    always declared, since it is required by C89.  */
+#if HAVE_RAW_DECL_GETS
 _GL_WARN_ON_USE (gets, "gets is a security hole - use fgets instead");
 #endif
+#endif
 
 
 #if @GNULIB_OBSTACK_PRINTF@ || @GNULIB_OBSTACK_PRINTF_POSIX@
-- 
1.9.1

